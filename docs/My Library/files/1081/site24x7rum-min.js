var s247RUM ={"resources_config":[],"cx_ajax_enabled":false,"excluded_errors":{},"beaconType":0,"collectorURL":"\/\/col.site24x7rum.eu","excluded_domains":[],"ajax_enabled":false,"appKey":"bd7888531793d453d3bdf2268eea537b","exclude_bots":true,"track_resources":true,"excluded_useragents":[]};
function site24x7RumError(config){config=config||{},"string"==typeof config.name&&(this.type=config.name),"string"==typeof config.message&&(this.msg=config.message),"string"==typeof config.fname&&(this.fname=config.fname),("number"==typeof config.lineNumber||"string"==typeof config.lineNumber)&&(this.lno=parseInt(config.lineNumber,10)),("number"==typeof config.columnNumber||"string"==typeof config.columnNumber)&&(this.cno=parseInt(config.columnNumber,10)),this.trace="undefined"!=typeof config.stack?config.stack:[],this.usertrace="undefined"!=typeof config.usertrace?config.usertrace:insightRUM.userTrace,"undefined"!=typeof config.page&&(this.page=config.page),this.url="undefined"!=typeof config.url?config.url.length>150?config.url.substring(0,149):config.url:document.location.pathname}!function(window){function _has(object,key){return Object.prototype.hasOwnProperty.call(object,key)}function _isUndefined(what){return"undefined"==typeof what}if(window){var TraceKit={},_oldTraceKit=window.TraceKit,_slice=[].slice,UNKNOWN_FUNCTION="?",ERROR_TYPES_RE=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;TraceKit.noConflict=function(){return window.TraceKit=_oldTraceKit,TraceKit},TraceKit.wrap=function(func){function wrapped(){try{return func.apply(this,arguments)}catch(e){throw TraceKit.report(e),e}}return wrapped},TraceKit.report=function(){function subscribe(handler){installGlobalHandler(),installGlobalUnhandledRejectionHandler(),handlers.push(handler)}function unsubscribe(handler){for(var i=handlers.length-1;i>=0;--i)handlers[i]===handler&&handlers.splice(i,1);0===handlers.length&&(uninstallGlobalHandler(),uninstallGlobalUnhandledRejectionHandler())}function notifyHandlers(stack,isWindowError,error){var exception=null;if(!isWindowError||TraceKit.collectWindowErrors){for(var i in handlers)if(_has(handlers,i))try{handlers[i](stack,isWindowError,error)}catch(inner){exception=inner}if(exception)throw exception}}function traceKitWindowOnError(message,url,lineNo,columnNo,errorObj){var stack=null;if(lastExceptionStack)TraceKit.computeStackTrace.augmentStackTraceWithInitialElement(lastExceptionStack,url,lineNo,message),processLastException();else if(errorObj)stack=TraceKit.computeStackTrace(errorObj),notifyHandlers(stack,!0,errorObj);else{var name,location={url:url,line:lineNo,column:columnNo},msg=message;if("[object String]"==={}.toString.call(message)){var groups=message.match(ERROR_TYPES_RE);groups&&(name=groups[1],msg=groups[2])}location.func=TraceKit.computeStackTrace.guessFunctionName(location.url,location.line),location.context=TraceKit.computeStackTrace.gatherContext(location.url,location.line),stack={name:name,message:msg,mode:"onerror",stack:[location]},notifyHandlers(stack,!0,null)}return _oldOnerrorHandler?_oldOnerrorHandler.apply(this,arguments):!1}function traceKitWindowOnUnhandledRejection(e){var stack=TraceKit.computeStackTrace(e.reason);notifyHandlers(stack,!0,e.reason)}function installGlobalHandler(){_onErrorHandlerInstalled!==!0&&(_oldOnerrorHandler=window.onerror,window.onerror=traceKitWindowOnError,_onErrorHandlerInstalled=!0)}function uninstallGlobalHandler(){_onErrorHandlerInstalled&&(window.onerror=_oldOnerrorHandler,_onErrorHandlerInstalled=!1)}function installGlobalUnhandledRejectionHandler(){_onUnhandledRejectionHandlerInstalled!==!0&&(_oldOnunhandledrejectionHandler=window.onunhandledrejection,window.onunhandledrejection=traceKitWindowOnUnhandledRejection,_onUnhandledRejectionHandlerInstalled=!0)}function uninstallGlobalUnhandledRejectionHandler(){_onUnhandledRejectionHandlerInstalled&&(window.onunhandledrejection=_oldOnunhandledrejectionHandler,_onUnhandledRejectionHandlerInstalled=!1)}function processLastException(){var _lastExceptionStack=lastExceptionStack,_lastException=lastException;lastExceptionStack=null,lastException=null,notifyHandlers(_lastExceptionStack,!1,_lastException)}function report(ex){if(lastExceptionStack){if(lastException===ex)return;processLastException()}var stack=TraceKit.computeStackTrace(ex);throw lastExceptionStack=stack,lastException=ex,setTimeout(function(){lastException===ex&&processLastException()},stack.incomplete?2e3:0),ex}var _oldOnerrorHandler,_onErrorHandlerInstalled,_oldOnunhandledrejectionHandler,_onUnhandledRejectionHandlerInstalled,handlers=[],lastException=null,lastExceptionStack=null;return report.subscribe=subscribe,report.unsubscribe=unsubscribe,report}(),TraceKit.computeStackTrace=function(){function loadSource(url){return"string"!=typeof url?[]:""}function getSource(url){if("string"!=typeof url)return[];if(!_has(sourceCache,url)){var source="",domain="";try{domain=window.document.domain}catch(e){}var match=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(url);match&&match[2]===domain&&(source=loadSource(url)),sourceCache[url]=source?source.split("\n"):[]}return sourceCache[url]}function guessFunctionName(url,lineNo){var m,reFunctionArgNames=/function ([^(]*)\(([^)]*)\)/,reGuessFunction=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,line="",maxLines=10,source=getSource(url);if(!source.length)return UNKNOWN_FUNCTION;for(var i=0;maxLines>i;++i)if(line=source[lineNo-i]+line,!_isUndefined(line)){if(m=reGuessFunction.exec(line))return m[1];if(m=reFunctionArgNames.exec(line))return m[1]}return UNKNOWN_FUNCTION}function gatherContext(url,line){var source=getSource(url);if(!source.length)return null;var context=[],linesBefore=Math.floor(TraceKit.linesOfContext/2),linesAfter=linesBefore+TraceKit.linesOfContext%2,start=Math.max(0,line-linesBefore-1),end=Math.min(source.length,line+linesAfter-1);line-=1;for(var i=start;end>i;++i)_isUndefined(source[i])||context.push(source[i]);return context.length>0?context:null}function escapeRegExp(text){return text.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function escapeCodeAsRegExpForMatchingInsideHTML(body){return escapeRegExp(body).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function findSourceInUrls(re,urls){for(var source,m,i=0,j=urls.length;j>i;++i)if((source=getSource(urls[i])).length&&(source=source.join("\n"),m=re.exec(source)))return{url:urls[i],line:source.substring(0,m.index).split("\n").length,column:m.index-source.lastIndexOf("\n",m.index)-1};return null}function findSourceInLine(fragment,url,line){var m,source=getSource(url),re=new RegExp("\\b"+escapeRegExp(fragment)+"\\b");return line-=1,source&&source.length>line&&(m=re.exec(source[line]))?m.index:null}function findSourceByFunctionBody(func){if(!_isUndefined(window&&window.document)){for(var body,re,parts,result,urls=[window.location.href],scripts=window.document.getElementsByTagName("script"),code=""+func,codeRE=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,eventRE=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,i=0;i<scripts.length;++i){var script=scripts[i];script.src&&urls.push(script.src)}if(parts=codeRE.exec(code)){var name=parts[1]?"\\s+"+parts[1]:"",args=parts[2].split(",").join("\\s*,\\s*");body=escapeRegExp(parts[3]).replace(/;$/,";?"),re=new RegExp("function"+name+"\\s*\\(\\s*"+args+"\\s*\\)\\s*{\\s*"+body+"\\s*}")}else re=new RegExp(escapeRegExp(code).replace(/\s+/g,"\\s+"));if(result=findSourceInUrls(re,urls))return result;if(parts=eventRE.exec(code)){var event=parts[1];if(body=escapeCodeAsRegExpForMatchingInsideHTML(parts[2]),re=new RegExp("on"+event+"=[\\'\"]\\s*"+body+"\\s*[\\'\"]","i"),result=findSourceInUrls(re,urls[0]))return result;if(re=new RegExp(body),result=findSourceInUrls(re,urls))return result}return null}}function computeStackTraceFromStackProp(ex){if(!ex.stack)return null;for(var isEval,submatch,parts,element,chrome=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gecko=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,winjs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,geckoEval=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,chromeEval=/\((\S*)(?::(\d+))(?::(\d+))\)/,lines=ex.stack.split("\n"),stack=[],reference=/^(.*) is undefined$/.exec(ex.message),i=0,j=lines.length;j>i;++i){if(parts=chrome.exec(lines[i])){var isNative=parts[2]&&0===parts[2].indexOf("native");isEval=parts[2]&&0===parts[2].indexOf("eval"),isEval&&(submatch=chromeEval.exec(parts[2]))&&(parts[2]=submatch[1],parts[3]=submatch[2],parts[4]=submatch[3]),element={url:isNative?null:parts[2],func:parts[1]||UNKNOWN_FUNCTION,args:isNative?[parts[2]]:[],line:parts[3]?+parts[3]:null,column:parts[4]?+parts[4]:null}}else if(parts=winjs.exec(lines[i]))element={url:parts[2],func:parts[1]||UNKNOWN_FUNCTION,args:[],line:+parts[3],column:parts[4]?+parts[4]:null};else{if(!(parts=gecko.exec(lines[i])))continue;isEval=parts[3]&&parts[3].indexOf(" > eval")>-1,isEval&&(submatch=geckoEval.exec(parts[3]))?(parts[3]=submatch[1],parts[4]=submatch[2],parts[5]=null):0!==i||parts[5]||_isUndefined(ex.columnNumber)||(stack[0].column=ex.columnNumber+1),element={url:parts[3],func:parts[1]||UNKNOWN_FUNCTION,args:parts[2]?parts[2].split(","):[],line:parts[4]?+parts[4]:null,column:parts[5]?+parts[5]:null}}!element.func&&element.line&&(element.func=guessFunctionName(element.url,element.line)),element.context=element.line?gatherContext(element.url,element.line):null,stack.push(element)}return stack.length?(stack[0]&&stack[0].line&&!stack[0].column&&reference&&(stack[0].column=findSourceInLine(reference[1],stack[0].url,stack[0].line)),{mode:"stack",name:ex.name,message:ex.message,stack:stack}):null}function computeStackTraceFromStacktraceProp(ex){var stacktrace=ex.stacktrace;if(stacktrace){for(var parts,opera10Regex=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,opera11Regex=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,lines=stacktrace.split("\n"),stack=[],line=0;line<lines.length;line+=2){var element=null;if((parts=opera10Regex.exec(lines[line]))?element={url:parts[2],line:+parts[1],column:null,func:parts[3],args:[]}:(parts=opera11Regex.exec(lines[line]))&&(element={url:parts[6],line:+parts[1],column:+parts[2],func:parts[3]||parts[4],args:parts[5]?parts[5].split(","):[]}),element){if(!element.func&&element.line&&(element.func=guessFunctionName(element.url,element.line)),element.line)try{element.context=gatherContext(element.url,element.line)}catch(exc){}element.context||(element.context=[lines[line+1]]),stack.push(element)}}return stack.length?{mode:"stacktrace",name:ex.name,message:ex.message,stack:stack}:null}}function computeStackTraceFromOperaMultiLineMessage(ex){var lines=ex.message.split("\n");if(lines.length<4)return null;var parts,lineRE1=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,lineRE2=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,lineRE3=/^\s*Line (\d+) of function script\s*$/i,stack=[],scripts=window&&window.document&&window.document.getElementsByTagName("script"),inlineScriptBlocks=[];for(var s in scripts)_has(scripts,s)&&!scripts[s].src&&inlineScriptBlocks.push(scripts[s]);for(var line=2;line<lines.length;line+=2){var item=null;if(parts=lineRE1.exec(lines[line]))item={url:parts[2],func:parts[3],args:[],line:+parts[1],column:null};else if(parts=lineRE2.exec(lines[line])){item={url:parts[3],func:parts[4],args:[],line:+parts[1],column:null};var relativeLine=+parts[1],script=inlineScriptBlocks[parts[2]-1];if(script){var source=getSource(item.url);if(source){source=source.join("\n");var pos=source.indexOf(script.innerText);pos>=0&&(item.line=relativeLine+source.substring(0,pos).split("\n").length)}}}else if(parts=lineRE3.exec(lines[line])){var url=window.location.href.replace(/#.*$/,""),re=new RegExp(escapeCodeAsRegExpForMatchingInsideHTML(lines[line+1])),src=findSourceInUrls(re,[url]);item={url:url,func:"",args:[],line:src?src.line:parts[1],column:null}}if(item){item.func||(item.func=guessFunctionName(item.url,item.line));var context=gatherContext(item.url,item.line),midline=context?context[Math.floor(context.length/2)]:null;item.context=context&&midline.replace(/^\s*/,"")===lines[line+1].replace(/^\s*/,"")?context:[lines[line+1]],stack.push(item)}}return stack.length?{mode:"multiline",name:ex.name,message:lines[0],stack:stack}:null}function augmentStackTraceWithInitialElement(stackInfo,url,lineNo,message){var initial={url:url,line:lineNo};if(initial.url&&initial.line){stackInfo.incomplete=!1,initial.func||(initial.func=guessFunctionName(initial.url,initial.line)),initial.context||(initial.context=gatherContext(initial.url,initial.line));var reference=/ '([^']+)' /.exec(message);if(reference&&(initial.column=findSourceInLine(reference[1],initial.url,initial.line)),stackInfo.stack.length>0&&stackInfo.stack[0].url===initial.url){if(stackInfo.stack[0].line===initial.line)return!1;if(!stackInfo.stack[0].line&&stackInfo.stack[0].func===initial.func)return stackInfo.stack[0].line=initial.line,stackInfo.stack[0].context=initial.context,!1}return stackInfo.stack.unshift(initial),stackInfo.partial=!0,!0}return stackInfo.incomplete=!0,!1}function computeStackTraceByWalkingCallerChain(ex,depth){for(var parts,item,source,functionName=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,stack=[],funcs={},recursion=!1,curr=computeStackTraceByWalkingCallerChain.caller;curr&&!recursion;curr=curr.caller)if(curr!==computeStackTrace&&curr!==TraceKit.report){if(item={url:null,func:UNKNOWN_FUNCTION,args:[],line:null,column:null},curr.name?item.func=curr.name:(parts=functionName.exec(curr.toString()))&&(item.func=parts[1]),"undefined"==typeof item.func)try{item.func=parts.input.substring(0,parts.input.indexOf("{"))}catch(e){}if(source=findSourceByFunctionBody(curr)){item.url=source.url,item.line=source.line,item.func===UNKNOWN_FUNCTION&&(item.func=guessFunctionName(item.url,item.line));var reference=/ '([^']+)' /.exec(ex.message||ex.description);reference&&(item.column=findSourceInLine(reference[1],source.url,source.line))}funcs[""+curr]?recursion=!0:funcs[""+curr]=!0,stack.push(item)}depth&&stack.splice(0,depth);var result={mode:"callers",name:ex.name,message:ex.message,stack:stack};return augmentStackTraceWithInitialElement(result,ex.sourceURL||ex.fileName,ex.line||ex.lineNumber,ex.message||ex.description),result}function computeStackTrace(ex,depth){var stack=null;depth=null==depth?0:+depth;try{if(stack=computeStackTraceFromStacktraceProp(ex))return stack}catch(e){if(debug)throw e}try{if(stack=computeStackTraceFromStackProp(ex))return stack}catch(e){if(debug)throw e}try{if(stack=computeStackTraceFromOperaMultiLineMessage(ex))return stack}catch(e){if(debug)throw e}try{if(stack=computeStackTraceByWalkingCallerChain(ex,depth+1))return stack}catch(e){if(debug)throw e}return{name:ex.name,message:ex.message,mode:"failed"}}function computeStackTraceOfCaller(depth){depth=(null==depth?0:+depth)+1;try{throw new Error}catch(ex){return computeStackTrace(ex,depth+1)}}var debug=!1,sourceCache={};return computeStackTrace.augmentStackTraceWithInitialElement=augmentStackTraceWithInitialElement,computeStackTrace.computeStackTraceFromStackProp=computeStackTraceFromStackProp,computeStackTrace.guessFunctionName=guessFunctionName,computeStackTrace.gatherContext=gatherContext,computeStackTrace.ofCaller=computeStackTraceOfCaller,computeStackTrace.getSource=getSource,computeStackTrace}(),TraceKit.extendToAsynchronousCallbacks=function(){var _helper=function(fnName){var originalFn=window[fnName];window[fnName]=function(){var args=_slice.call(arguments),originalCallback=args[0];return"function"==typeof originalCallback&&(args[0]=TraceKit.wrap(originalCallback)),originalFn.apply?originalFn.apply(this,args):originalFn(args[0],args[1])}};_helper("setTimeout"),_helper("setInterval")},TraceKit.remoteFetching||(TraceKit.remoteFetching=!0),TraceKit.collectWindowErrors||(TraceKit.collectWindowErrors=!0),(!TraceKit.linesOfContext||TraceKit.linesOfContext<1)&&(TraceKit.linesOfContext=11),window.TraceKit=TraceKit}}(window),site24x7RumError.prototype.equals=function(otherError){return"object"!=typeof otherError?!1:this.msg!==otherError.msg?!1:this.fname!==otherError.fname?!1:this.lno!==otherError.lno?!1:this.cno!==otherError.cno?!1:this.trace!==otherError.trace?!1:this.type!==otherError.type?!1:!0},site24x7RumError.subscribeToTraceKitError=function(errorData){if(errorData.name){if(Array.isArray(errorData.stack)&&errorData.stack.length>0){errorData.functionName=errorData.stack[0].func;var url=errorData.stack[0].url;if(url&&"undefined"!=typeof url&&""!=url||(url=document.location.pathname,errorData.stack[0].url=url),url&&"string"==typeof url){var errTxnName="<anonymous>"!=url?insightRUM.colHelpers.getErrTxnName(insightRUM,url):url;errorData.url=url,errorData.fname=insightRUM.colHelpers.getFileName(insightRUM,errTxnName)}(!errorData.fname||errorData.fname.length<=0)&&(errorData.fname=insightRUM.colHelpers.getFileName(insightRUM,location.hash),errorData.fname.length<=0&&"undefined"!=typeof errorData.stack[1]&&(errorData.url=insightRUM.colHelpers.getErrTxnName(insightRUM,errorData.stack[1].url),errorData.fname=insightRUM.colHelpers.getFileName(insightRUM,errorData.url))),errorData.stack.forEach(function(stack){stack.url=insightRUM.colHelpers.getErrTxnName(insightRUM,stack.url),stack.fname=insightRUM.colHelpers.getFileName(insightRUM,stack.url),delete stack.url,stack.line&&(stack.lineno=stack.line),delete stack.line,stack.column&&(stack.colno=stack.column),delete stack.column,delete stack.args,delete stack.context,delete stack.url})}errorData.page=insightRUM?insightRUM.colHelpers.getTxn(insightRUM):document.location.origin,insightRUM.colHelpers.addUserTrace(insightRUM,"exception",errorData.name+" : "+errorData.message),errorData=new site24x7RumError(errorData);var errorArrayLength=insightRUM.rawErrors.length;(errorArrayLength>0&&!errorData.equals(insightRUM.rawErrors[errorArrayLength-1])||0==errorArrayLength)&&insightRUM.rawErrors.push(errorData)}},TraceKit.report.subscribe(site24x7RumError.subscribeToTraceKitError);
var insightTMRUM=insightTMRUM||{deploy:function(t){var arr=t.tags_config;if(arr)for(var i=0;i<arr.length;i++)checkAndExecute(arr[i],arr[i].event)},createTag:function(a,b){var c=document.createElement(a);c.innerHTML=b,document.getElementsByTagName("head")[0].appendChild(c)},checkAndExecute:function(o,e){var wr=document.createElement("div");wr.innerHTML=o&&o.tag?o.tag:"";var d=wrapper.firstChild,p=d.text||d.textContent||d.innerHTML||"";"PAGEVIEW"==e&&isExecutable(o.rules)&&createTag(div.nodeName,p),"DOMREADY"==e&&(document.addEventListener?document.addEventListener("DOMContentLoaded",function(){createTag(div.nodeName,p)}):document.attachEvent("onDOMContentLoaded",function(){createTag(div.nodeName,p)})),"PAGELOADED"==e&&(document.addEventListener?document.addEventListener("load",function(){createTag(div.nodeName,p)}):document.attachEvent("onload",function(){createTag(div.nodeName,p)}))},getAttribute:function(a){var att="",w=window.location;switch(a){case"URL":att=w.href;break;case"HOSTNAME":att=w.hostname;break;case"PATH":att=w.pathname}return att},isExecutable:function(c){for(var j=0;j<c.length;c++)if(validate(getAttribute(c[i].attribute),c[i].name,c[i].condition))return!0;return!1},validate:function(a,b,c){var p=String(a),q=String(b);switch(c){case"EQUALS":return p==q;case"CONTAINS":return 0<=p.indexOf(q);case"STARTSWITH":return 0==p.indexOf(q);case"ENDSWITH":var l=p.length-q.length;return l>=0&&p.indexOf(q,l)==l;case"REGEX_MATCHES":try{{new RegExp(b)}return t.test(a)}catch(r){return!1}case"NOTEQUALS":return!(p==q);case"NOTCONTAINS":return!(0<=p.indexOf(q));case"NOTSTARTSWITH":return!(0==p.indexOf(q));case"NOTENDSWITH":var l=p.length-q.length;return!(l>=0&&p.indexOf(q,l)==l);case"NOTREGEX_MATCHES":try{{new RegExp(b)}return!t.test(a)}catch(r){return!1}}}},insightRUM={constants:{perfStats:["rdT","dnsT","conT","beT","fbT","dlT","nwT","dpT","drT","feT","totalRT"],events:["onload","onunload","onkeypress","onscroll","onclick"],initiatorTypes:["img","css","iframe","link","script","xmlhttprequest"],hostName:/^(https|http)?:\/\/(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i,urlpattern:/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/?\n]+)(?::[0-9]+)?([^?]+)?(?:\\?)?(.+)?$/i},colHelpers:{getFileName:function(i,f){return f&&""!=f?i.colHelpers.removeSpecialChars(f.substr(f.lastIndexOf("/")+1,f.length)):""},addSPAEvents:function(a){return 1==a?["onpushstate","onreplacestate","onpopstate"]:["onhashchange"]},pushRoutes:function(i,loc,perfTime){if("undefined"!=typeof site24x7rum&&"undefined"!=typeof site24x7rum.routeChanges){var routechange={};routechange.time=perfTime,routechange.url=loc.hash.indexOf("#")>-1?loc.hash.replace("#",""):loc.pathname,insightRUM.userTrace&&i.colHelpers.addUserTrace(i,"load",i.colHelpers.getTxn(i,routechange.url)),site24x7rum.routeChanges.push(routechange),i.isSPA&&"undefined"!=typeof window.insightPARUM&&window.insightPARUM.run()}},getCurrentTime:function(){return"now"in window.performance==0?Date.now()-window.performance.timing.navigationStart:Math.round(window.performance.now())},getErrTxnName:function(i,txn){var tn,tsi=txn&&txn.indexOf(document.location.origin)>-1?document.location.origin.length:0;return tn=txn?txn.substr(tsi,txn.indexOf("?")>-1?txn.indexOf("?")-tsi:txn.length):document.location.pathname,tn=tn.indexOf("https")>-1||tn.indexOf("http")>-1?tn.replace(/(http|https):\/\//,""):tn,tn=i.colHelpers.removeSpecialChars(tn).replace(/[-][a-f0-9]+[0-9][a-f0-9]+/g,"-*").replace(/[-][0-9]+/g,"-*")},addUserTrace:function(i,event,msg){i.userTrace.push({action:event,name:msg,timestamp:(new Date).getTime()}),i.userTrace=i.userTrace.slice(Math.max(i.userTrace.length-10,0))},stackTrace:function(stack,i){for(var b,getObj=function(a,h,j,k,l){return obj={func:i.colHelpers.removeSpecialChars(a[h]),fname:i.colHelpers.getFileName(i,i.colHelpers.getFileName(i,a[j])),lineno:a[k],colno:a[l]}},stk=[],ind=stack.split("\n"),e=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,m=0;m<ind.length;m++)(b=e.exec(ind[m]))?stk.push(getObj(b,1,2,3,4)):(b=f.exec(ind[m]))?stk.push(getObj(b,1,3,4,5)):(b=j.exec(ind[m]))?stk.push(getObj(b,1,2,3,4)):"";return 0==stk.length?"":stk.slice(0,stk.length>10?9:stk.length)},replaceSpecialChars:function(name,regex){return name?name.replace("undefined"==typeof regex?/[`~!@#$%^&_|+=?;'",<>(){}[\]]/g:regex,""):name},removeSpecialChars:function(name){var match=/[';"%><?~!@#^&+|:]/.exec(name),index=match?match.index:-1;return name?name.substr(0,index>-1?index:name.length):name},addToSession:function(i,n,t,dt,s,e){var sE={};sE.nm=n,sE[t]=dt,sE.st=Math.round(s),sE.et=Math.round("undefined"!=typeof e?e:i.colHelpers.getCurrentTime());var ev="scroll"==n||"typing"==n?n:"";if(insightRUM.userTrace&&"event"==t){var origin=dt.or,prev=insightRUM.userTrace.length>0?insightRUM.userTrace[insightRUM.userTrace.length-1]:{};prev.action&&prev.action==ev&&prev.name&&prev.name==origin||i.colHelpers.addUserTrace(i,n,dt.or)}if("undefined"!=typeof site24x7rum&&"undefined"!=typeof site24x7rum.sessionTrace)if(site24x7rum.sessionTrace.length>0&&site24x7rum.sessionTrace[site24x7rum.sessionTrace.length-1].nm==ev){var prev=site24x7rum.sessionTrace.pop();prev.et=sE.et,site24x7rum.sessionTrace.push(prev)}else site24x7rum.sessionTrace.push(sE)},clearBuffer:function(){performance.getEntries&&performance.getEntries().length>=150&&(performance.setResourceTimingBufferSize?performance.setResourceTimingBufferSize(performance.getEntries().length+50):performance.webkitClearResourceTimings?performance.webkitClearResourceTimings():performance.clearResourceTimings&&performance.clearResourceTimings())},addAjaxToSession:function(i,name,type,d,st){if(window.performance.getEntriesByName)var e=window.performance.getEntriesByName(name);if(e&&e.length>0){var j=i.xhrCallTracker.hasOwnProperty(name)?i.xhrCallTracker[name]:0;if(e[j].duration){e[j].loadEventEnd=e[j].fetchStart+e[j].duration;var perf=i.colHelpers.getPerfStats(i,e[j]);i.colHelpers.addToSession(i,i.colHelpers.getFormatedTxnName(i,name),type,d,st,st+perf.totalRT)}}},getObjAsArray:function(o){var arr=new Array;for(var key in o)if(o.hasOwnProperty(key)){var obj=o[key];obj.loadTime=Math.round(obj.loadTime/obj.count),arr.push(obj)}return arr},getAsArray:function(o,l,p){for(var ret=Object.keys(o).sort(function(a,b){return o[b][p]-o[a][p]}),arr=new Array,j=0;j<ret.length;j++)if(o.hasOwnProperty(ret[j])){var obj=o[ret[j]];arr.push(obj)}return arr.slice(0,l)},getPerfStats:function(i,pe){if("undefined"!=typeof pe){var responseStart=!pe.responseStart||pe.responseStart<=0?pe.fetchStart:pe.responseStart,requestStart=0==pe.requestStart?pe.fetchStart:pe.requestStart,tsi=pe.name&&pe.name.indexOf(document.location.origin)>-1?document.location.origin.length:0,mD={};mD.txnName=pe.name?pe.name.substr(tsi,pe.name.indexOf("?")>-1?pe.name.indexOf("?")-tsi:pe.name.length):document.location.pathname,mD.txnName=i.colHelpers.getFormatedTxnName(i,i.includeQueryParams?mD.txnName+document.location.search:mD.txnName),mD.fullName=pe.name?pe.name.substr(tsi,pe.name.indexOf("?")>-1?pe.name.indexOf("?")-tsi:pe.name.length):i.isSPA?document.location.pathname+document.location.hash:document.location.pathname,mD.fullName=i.colHelpers.getFormatedTxnName(i,i.includeQueryParams?mD.fullName+document.location.search:mD.fullName,!1),mD.rdT=Math.round(pe.fetchStart>0&&pe.domainLookupStart-pe.fetchStart>0?pe.domainLookupStart-pe.fetchStart:0+(pe.redirectEnd-pe.redirectStart)),mD.dnsT=Math.round(pe.domainLookupEnd-pe.domainLookupStart),mD.conT=Math.round(pe.connectStart>0&&requestStart-pe.connectStart>0?requestStart-pe.connectStart:pe.connectEnd-pe.connectStart),mD.beT=Math.round(responseStart-requestStart),mD.dlT=responseStart>0&&pe.responseEnd-responseStart>0?Math.round(pe.responseEnd-responseStart):0,mD.nwT=Math.round(mD.rdT+mD.dnsT+mD.conT+mD.dlT),mD.fbT=Math.round(pe.responseStart>0&&pe.fetchStart>0?pe.responseStart-pe.fetchStart:mD.beT+mD.nwT-mD.dlT);var dtion=mD.beT+mD.nwT-mD.dlT-mD.fbT;Math.abs(dtion)<5&&(mD.fbT+=dtion),pe.domComplete&&pe.domLoading?(mD.dpT=Math.round(pe.domComplete-pe.domLoading),mD.prT=Math.round(pe.loadEventEnd>0&&pe.loadEventStart>0?pe.loadEventEnd-pe.loadEventStart:0)):mD.dpT=mD.prT=0,mD.drT=Math.round(mD.dpT),mD.feT=mD.drT+mD.prT;var rt=mD.nwT+mD.beT+mD.feT;return mD.totalRT=rt<mD.fbT?mD.fbT:rt,mD}},getAllResourceTimings:function(i){var entriesJson={};entriesJson.entriesList=new Array;for(var resourceTypeTotalRT={},rdc=0,domainNames=new Array,topDomainNames=new Array,temp=0;temp<i.onPageLoadEntriesLen;temp++){var entryData={},res=window.performance.getEntries()[temp];if(entryData.resource=i.colHelpers.getPerfStats(i,res),entryData.resource.totalRT>0){var matches=res.name.match(/^(https|http)?:\/\/(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i);if(matches&&matches[2]){if(-1!=i.domainsToExclude.toString().indexOf(matches[2])){rdc++;continue}entryData.st=Math.round(res.startTime),entryData.et=Math.round(res.startTime+res.duration),domainNames[matches[2]]={count:domainNames[matches[2]]?domainNames[matches[2]].count+1:1,loadTime:domainNames[matches[2]]?domainNames[matches[2]].loadTime+entryData.resource.totalRT:entryData.resource.totalRT,name:matches[2]},entryData.nm=res.initiatorType&&-1!=i.constants.initiatorTypes.toString().indexOf(res.initiatorType)?res.initiatorType:"Others",entryData.nm="link"==entryData.nm?"css":entryData.nm,resourceTypeTotalRT[entryData.nm]={loadTime:(resourceTypeTotalRT[entryData.nm]?resourceTypeTotalRT[entryData.nm].loadTime:0)+entryData.resource.totalRT,count:(resourceTypeTotalRT[entryData.nm]?resourceTypeTotalRT[entryData.nm].count:0)+1,name:entryData.nm},entriesJson.entriesList.push(entryData)}}}for(var sortedDomains=Object.keys(domainNames).sort(function(a,b){return domainNames[b].loadTime-domainNames[a].loadTime}),j=0;5>j&&j<sortedDomains.length;j++){var domain={};domain=domainNames[sortedDomains[j]],domain.loadTime=Math.round(domain.loadTime/domain.count),topDomainNames.push(domain)}entriesJson.entriesList.sort(function(a,b){return b.resource.totalRT-a.resource.totalRT}),domainNames=domainNames.sort(function(a,b){return a.loadTime-b.loadTime});(new Date).getTime();return entriesJson.url=i.perfStats.txnName,entriesJson.pType=i.pType,entriesJson.sT=window.performance.timing.navigationStart,entriesJson.entriesList=entriesJson.entriesList.slice(0,entriesJson.entriesList.length<100?entriesJson.entriesList.length:100),entriesJson.domainInfo=topDomainNames,entriesJson.resourcesTotal=i.colHelpers.getObjAsArray(resourceTypeTotalRT),entriesJson.resourceCT=insightRUM.onPageLoadEntriesLen-rdc,entriesJson.totalRT=i.perfStats.totalRT,entriesJson.isOnDemand=""!=i.colHelpers.getCookie(i,"site24x7RUMSnapshotId")?i.colHelpers.getCookie(i,"site24x7RUMSnapshotId")[1]:!1,entriesJson.endTime=i.colHelpers.getCurrentTime(),entriesJson.sescolT=Number(i.colHelpers.getCookie(i,"site24x7RUMSnapshotId")[0]),entriesJson},getDomainMetrics:function(i,a,b,type){var domainStats={name:"-"};domainStats.domains=new Array;var matches=window.location.href.match(i.constants.hostName);matches&&matches[2]&&(domainStats.name=matches[2]),domainStats.totalRT=i.perfStats.totalRT;for(var domainData={},temp=a;b>temp;temp++){var res=window.performance.getEntries()[temp],perf=i.colHelpers.getPerfStats(i,res);if(perf.totalRT>0&&perf.totalRT<15e4){var type=res.initiatorType&&-1!=i.constants.initiatorTypes.toString().indexOf(res.initiatorType)?res.initiatorType:"others";type="link"==type?"css":type;var matches=res.name.match(i.constants.hostName),rSize=res.transferSize?res.transferSize:0;if(matches&&matches[2]){if(-1!=i.domainsToExclude.toString().indexOf(matches[2]))continue;domainData[matches[2]]?(domainData[matches[2]].stats.totalCT=domainData[matches[2]].stats.totalCT+1,domainData[matches[2]].stats.totalRT=domainData[matches[2]].stats.totalRT+perf.totalRT,domainData[matches[2]].stats.totalSZ=domainData[matches[2]].stats.totalSZ+rSize,domainData[matches[2]].stats.totalSCT=domainData[matches[2]].stats.totalSCT+(0!=Number(rSize)?1:0),domainData[matches[2]][type]?(domainData[matches[2]][type].totalCT=domainData[matches[2]][type].totalCT+1,domainData[matches[2]][type].totalRT=domainData[matches[2]][type].totalRT+perf.totalRT):domainData[matches[2]][type]={totalCT:1,totalRT:perf.totalRT}):(domainData[matches[2]]={name:matches[2],type:matches[2]==domainStats.name?"first":"third",stats:{totalCT:1,totalRT:perf.totalRT,totalSZ:rSize,totalSCT:0!=Number(rSize)?1:0}},domainData[matches[2]][type]={totalCT:1,totalRT:perf.totalRT})}}}if(i.resourceTracker.s=b,Object.keys(domainData).length>0){var sortedDomains=Object.keys(domainData).sort(function(a,b){return domainData[b].stats.totalRT-domainData[a].stats.totalRT});sortedDomains=sortedDomains.slice(0,20);for(var key in sortedDomains)domainData.hasOwnProperty(sortedDomains[key])&&domainStats.domains.push(domainData[sortedDomains[key]]);return domainStats}return null},addToResInfo:function(i,a){var m=a.name.match(i.constants.hostName),nm=a.initiatorType&&-1!=i.constants.initiatorTypes.toString().indexOf(a.initiatorType)?a.initiatorType:"Others",res=i.colHelpers.getPerfStats(i,a);m&&m[2]&&(i.domainInfo[m[2]]={count:i.domainInfo[m[2]]?i.domainInfo[m[2]].count+1:1,loadTime:i.domainInfo[m[2]]?i.domainInfo[m[2]].loadTime+res.totalRT:res.totalRT,name:m[2]}),i.resourcesTotal[nm]={loadTime:(i.resourcesTotal[nm]?i.resourcesTotal[nm].loadTime:0)+res.totalRT,count:(i.resourcesTotal[nm]?i.resourcesTotal[nm].count:0)+1,name:nm}},getTxn:function(i,url){var n="",l=window.location;return"undefined"!=typeof url?(url=url.substr(0,url.indexOf("?")>-1?url.indexOf("?")-0:url.length),n=i.colHelpers.replaceSpecialChars(url,i.includeQueryParams?/[';"%><~!@#()^+|:]/g:void 0)):l.pathname&&"undefined"!=typeof l.hash&&(n=i.colHelpers.replaceSpecialChars(""!=l.hash?l.hash:l.pathname,i.includeQueryParams?/[';"%><~!@#()^+|:]/g:void 0)),n=(i.includeQueryParams?n+document.location.search:n).replace(/[a-f0-9]+[0-9][a-f0-9]+/g,"*").replace(/[0-9]+/g,"*"),n.length>150?n.substring(0,149):n},getDomainFromTxn:function(i,txn){if("undefined"!=typeof txn){var matches=txn.match(i.constants.hostName);if(matches&&matches[2])return matches[2]}return null},getFormatedTxnName:function(i,name,obfuscate){if("undefined"!=typeof name){var txn="undefined"==typeof obfuscate?name.replace(/~/g,"").replace(/[a-f0-9]+[0-9][a-f0-9]+/g,"*").replace(/[0-9]+/g,"*"):name;return i.includeQueryParams?txn=i.colHelpers.replaceSpecialChars(txn,/[';"%><~!@()#^+|:]/g):(txn=txn.substr(0,txn.indexOf("?")>-1?txn.indexOf("?")-0:txn.length),txn=txn.substr(0,txn.indexOf("&")>-1?txn.indexOf("&")-0:txn.length),txn="undefined"==typeof obfuscate?txn.substr(0,txn.indexOf("#")>-1?txn.indexOf("#")-0:txn.length):txn,txn=i.colHelpers.replaceSpecialChars(txn)),txn.length>150?txn.substring(0,149):txn}},addPerfStats:function(i,pe1,pe2,params){for(var metricData={},j=0;j<params.length;j++)metricData[params[j]]=pe1[params[j]]+pe2[params[j]];return pe1.totalCT&&pe2.totalCT&&(metricData.totalCT=pe1.totalCT+pe2.totalCT),pe1.status&&pe2.status&&(metricData.status=i.colHelpers.addStatusCode(pe1.status,pe2.status)),metricData},getAverageStats:function(metricData,len,params){for(var i=0;i<params.length;i++)metricData[params[i]]=Math.round(metricData[params[i]]/len);return metricData},getPerfObject:function(){var p={};return p.rdT=p.dnsT=p.conT=p.nwT=p.sendT=p.fbT=p.beT=p.dlT=p.dpT=p.drT=p.prT=p.feT=p.totalRT=0,p},getSimpleUrl:function(){return window.location.hash&&window.location.hash.indexOf("#")>-1?window.location.hash.replace("#",""):window.location.pathname},isDomainAllowed:function(i,pDomain){for(var d=0;d<i.excludedDomains.length;d++)if(""!=i.excludedDomains[d]&&pDomain.indexOf(i.excludedDomains[d])>=0)return!1;return!0},getDomainFromTxn:function(i,txn){if("undefined"!=typeof txn){var matches=txn.match(i.constants.hostName);if(matches&&matches[2])return matches[2]}return null},getJSErrorDetails:function(info,url,lno,colno,error,i){var errDetails={};if(error&&void 0!=error&&null!=error&&(errDetails.type=error.name,errDetails.msg=i.colHelpers.replaceSpecialChars(error.message),(void 0!=error.stack||void 0!=error.stacktrace)&&(errDetails.trace=i.colHelpers.stackTrace(error.stack?error.stack:error.stacktrace,i))),("undefined"==errDetails.type&&"undefined"==errDetails.msg||!error&&"undefined"!=typeof colno)&&info){var args,e=/([a-zA-z ]*)(:)(.*)/;args=e.exec(info),null!=args&&args.length>3?(errDetails.type=args[1],errDetails.msg=i.colHelpers.replaceSpecialChars(args[3])):(errDetails.type="UncaughtException",errDetails.msg=i.colHelpers.replaceSpecialChars(info))}return url&&"undefined"!=typeof url&&0!=url.length||(url=document.location.pathname),url&&"string"==typeof url&&(errDetails.url=i.colHelpers.getErrTxnName(i,url),errDetails.fname=i.colHelpers.getFileName(i,errDetails.url)),(!errDetails.fname||errDetails.fname.length<=0)&&(errDetails.fname=i.colHelpers.getFileName(i,location.hash)),errDetails.lno=lno,errDetails.cno=colno,!errDetails.type||!errDetails.msg||!errDetails.url||errDetails.type&&errDetails.type.length<=0||errDetails.msg&&(errDetails.msg.length<=0||errDetails.msg.length>150)||errDetails.url&&errDetails.url.length<=0||-1!=errDetails.url.indexOf(insightRUM.scriptName)||!errDetails.fname||errDetails.fname&&errDetails.fname.length<=0?void 0:(errDetails.msg=errDetails.msg.length>100?errDetails.msg.substring(0,100):errDetails.msg,errDetails.page=i.colHelpers.getTxn(i),i.colHelpers.addUserTrace(i,"exception",errDetails.type+" : "+errDetails.msg),errDetails.usertrace=insightRUM.userTrace,errDetails)},startMutationObserver:function(i){i.collectMutations=!1,"undefined"==typeof i.observerV&&(i.observerV=new MutationObserver(function(e){e.forEach(function(){var t=i.colHelpers.getCurrentTime(),loc=i.colHelpers.getSimpleUrl();if(i.urls.mut!=loc){i.collectMutations=!0;var obj={};obj.url=loc,obj.start=t,i.colHelpers.spaController(i,obj,"dom","start"),i.urls.mut=loc,i.mutArray=[]}if((i.collectMutations||i.nwkTracker[loc]&&Math.abs(t-i.nwkTracker[loc].end)<100)&&i.mutArray)if(i.mutArray.length>0&&t-i.mutArray[i.mutArray.length-1]>100&&i.urls.mut==loc){var obj={},loc=window.location;obj.url=loc.hash.indexOf("#")>-1?loc.hash.replace("#",""):loc.pathname,obj.end=i.mutArray[i.mutArray.length-1],i.nwkTracker[loc]&&Math.abs(t-i.nwkTracker[loc].end)<100&&(obj.end=t),i.colHelpers.spaController(i,obj,"dom","end"),i.collectMutations=!1}else i.urls.mut==loc&&(i.spa.end=t,i.mutArray.push(t),i.mutArray.length>5&&(i.mutArray=i.mutArray.slice(-5)))})}),i.observerV.observe(document,{childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0}))},spaController:function(i,obs,type,prompt){if("start"==prompt){if("dom"==type)if(""==i.spa.state||i.spa.state==obs.url)i.spa.state=obs.url,i.spa.start=0!=i.spa.start&&obs.start>i.spa.start?i.spa.start:obs.start,i.spa.end=obs.end&&obs.end>i.spa.start?obs.end:i.spa.end;else if(i.spa.sent!=i.spa.state){if(i.spa.sent=i.spa.state,""!=i.spa.state&&0!=i.spa.start&&0!=i.spa.end&&i.spa.end>=i.spa.start&&i.spa.end<i.colHelpers.getCurrentTime()){var obj={url:i.spa.state,start:i.spa.start,end:i.spa.end};i.spaTracker.push(obj),i.storeLastAjax("spa")}i.spa.state=obs.url,i.spa.start=obs.start}}else"end"==prompt&&"dom"==type&&""!=i.spa.state&&i.spa.start>0&&(i.spa.end=obs.end>i.spa.end?obs.end:i.spa.end)},observeNetwork:function(i,o){if(i.isSPA){var loc=i.colHelpers.getSimpleUrl();if(i.urls.nwk!=loc)i.urls.nwk=loc,i.nwkTracker[loc]={start:o.st,end:o.end},i.xhrt=i.nwkTracker[loc].end;else if(i.xhrt&&i.xhrt+100>o.st){var nst=i.nwkTracker[loc];nst&&nst.start&&(nst.start<o.st||Math.abs(nst.start-o.st)<100)&&(i.nwkTracker[loc].start=nst.start<o.st?nst.start:o.st,i.nwkTracker[loc].end=nst.end<o.end?o.end:nst.end)}}},getSPTPerformance:function(i){try{if(window.performance.getEntries){for(var m=Number(i.spa.resourceStart),n=Number(i.colHelpers.getPerformanceEntriesLen()),l=0,aggregatedStats=i.colHelpers.getPerfObject();n>m;m++){var res=window.performance.getEntries()[m],resType=res.initiatorType&&-1!=i.constants.initiatorTypes.toString().indexOf(res.initiatorType)?res.initiatorType:"Others";if("xmlhttprequest"!=resType&&res.startTime&&res.startTime>i.spa.start&&res.startTime<i.spa.end){var rPerf=i.colHelpers.getPerfStats(i,res);aggregatedStats=i.colHelpers.addPerfStats(i,rPerf,aggregatedStats,i.constants.perfStats),l++}if(res.startTime>i.spa.end){insightRUM.xhrt+100>o.st,i.spa.resourceStart=m;break}}return{perfStats:aggregatedStats,len:l}}return null}catch(e){return null}},resetSPA:function(i){i.spa={state:"",start:0,end:0,resourceStart:i.spa.resourceStart,nwkEnd:0}},bootRUMSPA:function(i){window.MutationObserver&&i.colHelpers.startMutationObserver(i)},initialiseSPA:function(i,type){i.isSPA&&i.colHelpers.bootRUMSPA(i),"undefined"==typeof window.site24x7rum&&(window.site24x7rum={}),site24x7rum.routeChanges=new Array,i.storeLastAjax(type),setInterval(function(){i.metricsDispatcher(i,"regular")},1e4),performance.onresourcetimingbufferfull=i.colHelpers.clearBuffer()},getStatusCode:function(s){var st="Others";return null!=s&&""!=s&&(st=s.substring(0,1),st="0"!=st?st+"xx":"0"),st},addStatusCode:function(a,b){for(var sa=Object.keys(a),sb=Object.keys(b),sObj=a;sa[0];){var sts=sa.pop(),ind=sb.indexOf(sts);ind>-1&&(sObj[sts]+=b[sts],sb.splice(ind,1))}for(;sb[0];){var sts=sb.pop();sObj[sts]=b[sts]}return sObj},getUniqueID:function(){var nav=window.navigator,screen=window.screen,g=nav.mimeTypes.length,n=nav.userAgent.replace(/\D+/g,"");return g+=n.length>30?n.substring(0,30):n,g+=nav.plugins.length,g+=screen.height||"",g+=screen.width||"",g+=screen.pixelDepth||""},getClientID:function(){function chr(){return Math.floor(1e4*Math.random()).toString()}return chr()+chr()+chr()+chr()},getHost:function(location){var matches=location.match(/^(https|http)?:\/\/(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i);return"undefined"!=typeof matches&&matches[2]?matches[2]:null},getPerformanceEntriesLen:function(){return window.performance.getEntries?window.performance.getEntries().length:0},getDataMetrics:function(i,type){try{var metrics={};for(var key in i.metricsCollector)if(i.metricsCollector.hasOwnProperty(key)){var m=i.metricsCollector[key](i,type);null!=m&&(metrics[key]=m)}return void 0!=metrics.dataList||void 0!=metrics.errorList||void 0!=metrics.sesTrace||void 0!=metrics.domainStats?metrics:null}catch(e){return null}},processEventDetails:function(i,event,type){var target="";if(event){var e=event.target||event.srcElement;e&&(target=(e.tagName&&""!=e.tagName?e.tagName:"-")+"|"+(e.className&&""!=e.className?e.className:"-")+"|"+(e.id&&""!=e.id?e.id:"-"))}target="undefined"!=typeof target&&""!=target&&"-|-|-"!=target?target:"body";var data={or:target};i.colHelpers.addToSession(i,type,"event",data,i.colHelpers.getCurrentTime())},isUserAgentBlocked:function(i){if(window.navigator&&window.navigator.userAgent){var ua=window.navigator.userAgent;for(var u in i)if(""!=i[u]&&ua.indexOf(i[u])>-1)return!0;return!1}return!0},isAjaxCallAllowed:function(i,aC){var txi=aC&&aC.indexOf(document.location.origin)>-1?document.location.origin.length:0,txnName=aC?aC.substr(txi,aC.indexOf("?")>-1?aC.indexOf("?")-txi:aC.length):document.location.pathname;return txnName=i.colHelpers.getFormatedTxnName(i,txnName),null!=i.excludedAjaxCallsRegex&&null!=txnName.match(i.excludedAjaxCallsRegex)?!1:!0},isTxnAllowed:function(i,tN){return null!=tN&&null!=i.excludedWebTxnsRegex&&null!=tN.match(i.excludedWebTxnsRegex)?!1:!0},setCookie:function(name,value,days){var date=new Date;days="undefined"==typeof days||0>days?parseInt(new Date(date.getFullYear(),date.getMonth()+1,0).getDate())-parseInt(date.getDate()):days,date.setTime(date.getTime()+24*(365+Number(days))*60*60*1e3);var expires="; expires="+date.toGMTString();return document.cookie=name+"="+value+expires+";Secure;SameSite=Strict; path=/",!0},getCookie:function(i,cookieName){var value="",isSet=!1,timeOut=3e5,ns=performance.timing.navigationStart,curT=(new Date).getTime(),sMatch=(" "+document.cookie).match(new RegExp("[; ]"+cookieName+"=([^\\s;]*)"));if("site24x7RUMSnapshotId"==cookieName)return sMatch&&(value=unescape(sMatch[1]),value.indexOf(".")>-1&&(value=value.split("."))),value;if("site24x7rumID"==cookieName&&sMatch){value=unescape(sMatch[1]);var nss=!1,sST=ns,pTime=0;if(""!==value&&3==value.split(".").length){value=value.split(".");var ref=""!=document.referrer?i.colHelpers.getHost(document.referrer):"";return i.colHelpers.getDomainFromTxn(window.location.href)!==ref?nss=Number(value[1])+timeOut<ns?!0:!1:pTime=Number(ns)-Number(value[2]),nss||(sST=value[1]),"undefined"==typeof value[0]&&(value[0]=i.colHelpers.getClientID()),value=value[0]+"."+sST+"."+ns,isSet=i.colHelpers.setCookie(cookieName,value)&&!1,value=value.split("."),{guid:value[0],ss_time:value[1],colT:curT,new_user:isSet,new_ss:nss,p_view_time:pTime}}var nValue=i.colHelpers.getClientID()+"."+ns+"."+ns;return isSet=i.colHelpers.setCookie(cookieName,nValue,365),nValue=nValue.split("."),{guid:nValue[0],ss_time:nValue[1],colT:curT,new_user:2==value.length?!1:isSet,new_ss:!0,p_view_time:pTime}}return value=i.colHelpers.getClientID()+"."+ns+"."+ns,isSet=i.colHelpers.setCookie(cookieName,value,365),value=value.split("."),{guid:value[0],ss_time:value[1],colT:curT,new_user:isSet,new_ss:!0,p_view_time:0}}},initialize:function(i){i.xhrCalls=[],i.xhrCallTracker={},i.metrics=new Array,i.pageMetricsSent=!1,i.errors=new Array,i.rawErrors=new Array,i.resourceEntries=new Array,i.collectorData={},i.timeOut=6e5,i.curUrl="",i.pType="static",i.txnT="",i.perfStats={},i.resourceSent=!1,i.initialSent=!1,i.collectTrace=!1,i.isOnDemand=!1,i.isCorsSupported="withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest,i.snapshot,i.nwkTracker={},i.sesTrace=new Array,i.domainInfo={},i.resourcesTotal={},i.onPageLoadEntriesLen=0,i.scriptName="rum-min.js",i.collector="undefined"!=typeof s247RUM&&s247RUM.collectorURL?s247RUM.collectorURL:"//col.site24x7rum.eu",i.includeAjaxCalls="undefined"==typeof site24x7rum||"undefined"!=typeof site24x7rum.includeAjaxCalls&&site24x7rum.includeAjaxCalls,i.sendAjaxCalls="undefined"!=typeof site24x7rumProp&&"boolean"==typeof site24x7rumProp.sendAjaxCalls?site24x7rumProp.sendAjaxCalls:"undefined"!=typeof s247RUM&&s247RUM.ajax_enabled?s247RUM.ajax_enabled:!1,i.includeCrossDomainAjaxCalls="undefined"!=typeof site24x7rumProp&&"boolean"==typeof site24x7rumProp.includeCrossDomainAjaxCalls?site24x7rumProp.includeCrossDomainAjaxCalls:"undefined"!=typeof s247RUM&&s247RUM.cx_ajax_enabled?s247RUM.cx_ajax_enabled:!1,i.domainsToExclude=["static.site24x7rum.com","static.site24x7rum.eu","col.site24x7rum.eu","col.site24x7rum.eu"],i.userAgentsToBlock=["Mozilla/5.0 (Windows NT 6.1; WOW64; rv:45.0.247) Gecko/20100101 Firefox/45.0.247"],i.userAgentsToBlock="undefined"!=typeof site24x7rumProp&&"undefined"!=typeof site24x7rumProp.userAgentsToBlock?insightRUM.userAgentsToBlock.concat(site24x7rumProp.userAgentsToBlock):"undefined"!=typeof s247RUM&&s247RUM.excluded_useragents?insightRUM.userAgentsToBlock.concat(s247RUM.excluded_useragents):insightRUM.userAgentsToBlock,i.excludedDomains="undefined"!=typeof site24x7rumProp&&site24x7rumProp.excludedDomains?site24x7rumProp.excludedDomains:"undefined"!=typeof s247RUM&&s247RUM.excluded_domains?s247RUM.excluded_domains:[""],i.excludedAjaxCalls="undefined"!=typeof site24x7rumProp&&site24x7rumProp.excludedAjaxCalls?site24x7rumProp.excludedAjaxCalls:"undefined"!=typeof s247RUM&&s247RUM.excludedAjaxCalls?s247RUM.excludedAjaxCalls:[""],i.excludedAjaxCallsRegex=i.excludedAjaxCalls&&""!=i.excludedAjaxCalls[0]?new RegExp(i.excludedAjaxCalls.join("|"),"g"):null,i.excludedWebTxns="undefined"!=typeof site24x7rumProp&&site24x7rumProp.excludedWebTxns?site24x7rumProp.excludedWebTxns:"undefined"!=typeof s247RUM&&s247RUM.excludedWebTxns?s247RUM.excludedWebTxns:[""],i.excludedWebTxnsRegex=i.excludedWebTxns&&""!=i.excludedWebTxns[0]?new RegExp(i.excludedWebTxns.join("|"),"g"):null,i.includeQueryParams="undefined"!=typeof site24x7rumProp&&site24x7rumProp.includeQueryParams?site24x7rumProp.includeQueryParams:"undefined"!=typeof s247RUM&&s247RUM.includeQueryParams?s247RUM.includeQueryParams:!1,i.trackResources="undefined"!=typeof site24x7rumProp&&"boolean"==typeof site24x7rumProp.track_resources?site24x7rumProp.track_resources:"undefined"!=typeof s247RUM&&"boolean"==typeof s247RUM.track_resources?s247RUM.track_resources:!1,i.rumMonType="undefined"!=typeof site24x7rumProp&&"number"==typeof site24x7rumProp.rumMonType?site24x7rumProp.rumMonType:"undefined"!=typeof s247RUM&&s247RUM.beaconType?s247RUM.beaconType:0,i.isSPA=("undefined"!=typeof s247RUM&&Number(s247RUM.beaconType)>0||i.rumMonType>0)&&window.performance.getEntries?!0:!1,i.considerAllResources="undefined"!=typeof site24x7rumProp&&"boolean"==typeof site24x7rumProp.considerAllResources?site24x7rumProp.considerAllResources:!1,i.version=3.1,i.resourceTracker={s:0,e:i.onPageLoadEntriesLen},i.spa={state:"",start:0,end:0,resourceStart:i.onPageLoadEntriesLen,sent:"",nwkStart:0,nwkEnd:0},i.urls={},i.urls.mut=i.urls.nwk=window.location.hash.indexOf("#")>-1?window.location.hash.replace("#",""):window.location.pathname,i.userTrace=[],i.spaTracker=[],"undefined"==typeof window.site24x7rum&&(window.site24x7rum={}),i.mutArray=[],i.nwkArray=[],site24x7rum.sessionTrace=new Array,site24x7rum.routeChanges=new Array,i.storeLastAjax=function(type){if(i.xhrCallsLast=insightRUM.xhrCalls,i.xhrCalls=new Array,"spa"==type&&i.initialSent&&(i.sesTrace=site24x7rum.sessionTrace,site24x7rum.sessionTrace=new Array),(i.initialSent||"initial"==type)&&i.metricsDispatcher(i,type),"spa"==type&&i.initialSent){var rc=site24x7rum.routeChanges;i.changeUrl=!0,i.pType="dynamic",i.txnT=Math.round(rc.length>0?window.performance.timing.navigationStart+rc[0].time:i.txnT)}},i.eventHandlers={onerror:function(a){var err=i.colHelpers.getJSErrorDetails(a[0],a[1],a[2],a[3],a[4],i);if(i.rawErrors.push(err),err&&err.fname&&err.lno&&err.cno&&err.type&&err.msg){var data={or:err.fname,lno:err.lno,cno:err.cno};i.colHelpers.addToSession(i,err.type+": "+err.msg,"error",data,i.colHelpers.getCurrentTime())}},onload:function(){document.readyState&&"complete"==document.readyState?(window.performance.getEntries&&(i.onPageLoadEntriesLen=window.performance.getEntries().length),setTimeout(function(){i.colHelpers.initialiseSPA(i,"initial")},0)):window.addEventListener?window.addEventListener("load",function(){window.performance.getEntries&&(i.onPageLoadEntriesLen=window.performance.getEntries().length),setTimeout(function(){i.colHelpers.initialiseSPA(i,"initial")},0)},!1):window.attachEvent&&window.attachEvent("onload",function(){window.performance.getEntries&&(i.onPageLoadEntriesLen=window.performance.getEntries().length),setTimeout(function(){i.colHelpers.initialiseSPA(i,"initial")},0)},!1)},onunload:function(){i.metricsDispatcher(i,"unload")},onkeypress:function(event){i.colHelpers.processEventDetails(i,event,"typing")},onclick:function(event){i.colHelpers.processEventDetails(i,event,"click")},onscroll:function(event){i.colHelpers.processEventDetails(i,event,"scroll")},onhashchange:function(){i.colHelpers.pushRoutes(i,window.location,i.colHelpers.getCurrentTime())},onpopstate:function(){i.colHelpers.pushRoutes(i,window.location,i.colHelpers.getCurrentTime())},ajax_open:function(){XMLHttpRequest.prototype.open=function(open){return function(method,url){try{this._url=url.indexOf("http")>-1?url:0==url.indexOf("/")?document.location.origin+url:document.location.origin+/(.*)\//.exec(document.location.pathname)[0]+url;var xhrCall={};-1==this._url.indexOf(insightRUM.collector)&&(window.addEventListener?(this.addEventListener("loadstart",function(){xhrCall.name=this._url,xhrCall.st=i.colHelpers.getCurrentTime()},!1),this.addEventListener("loadend",function(){var obj={name:xhrCall.name,st:xhrCall.st};obj.end=i.colHelpers.getCurrentTime(),obj.status=this.status,i.isSPA&&setTimeout(function(){i.colHelpers.observeNetwork(i,obj)
},100),insightRUM.xhrCalls.push(obj);var d={or:i.colHelpers.getFormatedTxnName(i,document.location.origin)};i.collectTrace&&i.colHelpers.addAjaxToSession(i,xhrCall.name,"ajax",d,xhrCall.st)},!1)):window.attachEvent&&(this.attachEvent("onloadstart",function(){xhrCall.name=this._url,xhrCall.st=i.colHelpers.getCurrentTime()},!1),this.attachEvent("onloadend",function(){var obj={name:xhrCall.name,st:xhrCall.st};obj.end=i.colHelpers.getCurrentTime(),obj.status=this.status,i.isSPA&&setTimeout(function(){i.colHelpers.observeNetwork(i,obj)},100),insightRUM.xhrCalls.push(obj);var d={or:i.colHelpers.getFormatedTxnName(i,document.location.origin)};i.collectTrace&&i.colHelpers.addAjaxToSession(i,xhrCall.name,"ajax",d,xhrCall.st)},!1)),insightRUM.userTrace&&"undefined"!=typeof this._url&&i.colHelpers.addUserTrace(i,"xhr",i.colHelpers.getFormatedTxnName(i,this._url)))}catch(e){}return open.apply(this,arguments)}}(XMLHttpRequest.prototype.open)},onpushstate:function(){!function(history){var pushState=history.pushState;history.pushState=function(){var t=i.colHelpers.getCurrentTime(),res=pushState.apply(history,arguments);return insightRUM.colHelpers.pushRoutes(i,window.location,t),res}}(window.history)},onreplacestate:function(){!function(history){var replaceState=history.replaceState;history.replaceState=function(){var t=i.colHelpers.getCurrentTime(),res=replaceState.apply(history,arguments);return insightRUM.colHelpers.pushRoutes(i,window.location,t),res}}(window.history)},console:function(){"undefined"!=typeof window.console&&"undefined"!=typeof console&&!function(){["log","debug","warn","info","error"].forEach(function(level){if("undefined"!=typeof console[level]){var oldLog=console[level];console[level]=function(message){try{insightRUM.colHelpers.addUserTrace(i,"console-"+level,message)}catch(e){}oldLog.apply(this,arguments)}}})}()}}},metricsCollector:{configInfo:function(i){return{appKey:"undefined"!=typeof s247RUM&&s247RUM.appKey?s247RUM.appKey:rumMOKey,version:i.version}},sessionInfo:function(i){var sInfo=window._s247rumc&&!i.initialSent?window._s247rumc:i.colHelpers.getCookie(i,"site24x7rumID"),ua=navigator.userAgent.length>200?navigator.userAgent.substring(0,200):navigator.userAgent,o={useragent:ua,scH:window.screen.height,scW:window.screen.width,sstime:Number(sInfo.ss_time),colT:sInfo.colT,usrInfo:{uniqVisitor:sInfo.new_user,guid:sInfo.guid,uid:"undefined"==typeof i.uid?sInfo.guid:i.uid,nSes:sInfo.new_ss}};return navigator.connection&&navigator.connection.effectiveType&&(o.conTy=navigator.connection.effectiveType),navigator.deviceMemory&&(o.dM=navigator.deviceMemory<1?1:navigator.deviceMemory),o},dataList:function(i,type){if(("regular"==type||"unload"==type)&&!i.isSPA){var dataList=[],uAjax={};if(i.sendAjaxCalls||i.includeCrossDomainAjaxCalls){for(var matches=document.location.host.match(/^(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i),parentDomain=matches&&matches[1]?matches[1]:document.location.host;i.xhrCalls.length>0;){var xhr=i.xhrCalls.pop(),xhrDomain=i.colHelpers.getDomainFromTxn(i,xhr.name);if(xhr&&xhr.name&&null!=xhrDomain&&i.colHelpers.isDomainAllowed(i,xhrDomain)&&i.colHelpers.isAjaxCallAllowed(i,xhr.name)&&(xhr.name.indexOf(parentDomain)>-1&&i.sendAjaxCalls||xhr.name.indexOf(parentDomain)<0&&i.includeCrossDomainAjaxCalls)){if(window.performance.getEntriesByName)var e=window.performance.getEntriesByName(xhr.name);if(e&&e.length>0){for(var j=i.xhrCallTracker.hasOwnProperty(xhr.name)?i.xhrCallTracker[xhr.name]:0;j<e.length;j++)if(e[j].duration){e[j].loadEventEnd=e[j].fetchStart+e[j].duration;var rSize=e[j].transferSize?e[j].transferSize:0,perfStats=i.colHelpers.getPerfStats(i,e[j]);if(perfStats.totalRT>0&&perfStats.totalRT<=3e5&&perfStats.totalRT>=perfStats.fbT&&perfStats.fbT>=0){var status={};if(status[i.colHelpers.getStatusCode(xhr.status+"")]=1,perfStats.type="ajax",perfStats.status=status,perfStats.http_status=xhr.status?xhr.status:0,perfStats.totalCT=1,uAjax[perfStats.txnName]){var totalSZ=uAjax[perfStats.txnName].totalSZ,totalSCT=uAjax[perfStats.txnName].totalSCT;uAjax[perfStats.txnName]=i.colHelpers.addPerfStats(i,uAjax[perfStats.txnName],perfStats,i.constants.perfStats),uAjax[perfStats.txnName].txnName=perfStats.txnName,uAjax[perfStats.txnName].totalSZ=totalSZ+rSize,uAjax[perfStats.txnName].totalSCT=totalSCT+(Number(rSize)>0?1:0),uAjax[perfStats.txnName].type="ajax"}else uAjax[perfStats.txnName]=perfStats,uAjax[perfStats.txnName].totalSZ=rSize,uAjax[perfStats.txnName].totalSCT=Number(rSize)>0?1:0}}i.xhrCallTracker[xhr.name]=j}}}dataList=dataList.concat(i.colHelpers.getAsArray(uAjax,25,"totalRT"))}return dataList.length>0?dataList:null}var ajaxCalls={},ajaxCallsMap={},dataList=[];if(site24x7rum.routeChanges.length>1||"initial"==type||"spa"==type&&i.spaTracker.length>0){var spaObj="spa"==type&&i.spaTracker.length>0?i.spaTracker.shift():{url:"",start:0,end:0},spaurl=spaObj.url,nwkObj=""!=spaurl&&i.nwkTracker[spaurl]?{start:i.nwkTracker[spaurl].start,end:i.nwkTracker[spaurl].end}:{start:0,end:0};delete i.nwkTracker[spaurl],spaObj.start=nwkObj.start<spaObj.start?nwkObj.start:spaObj.start,spaObj.end=nwkObj.end<spaObj.end&&nwkObj.start<spaObj.end?spaObj.end:nwkObj.end;var end=0,diff=0,ajax_call="initial"==type?{time:0}:site24x7rum.routeChanges.length>0?site24x7rum.routeChanges.shift():{time:0};spaObj.start=0!=ajax_call.time&&ajax_call.time<spaObj.start?ajax_call.time:spaObj.start;var perfStats={};"initial"==type?(i.perfStats=perfStats=i.colHelpers.getPerfStats(i,window.performance.timing),i.curUrl=perfStats.txnName,i.pType="static",i.txnT=window.performance.timing.navigationStart,i.colHelpers.addUserTrace(i,"load",i.colHelpers.getTxn(i,i.curUrl))):perfStats=i.colHelpers.getPerfObject();for(var xhrLen=0,matches=document.location.host.match(/^(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i),parentDomain=matches&&matches[1]?matches[1]:document.location.host;i.xhrCallsLast.length>0&&(ajax_call.url||""!=spaObj.url||i.sendAjaxCalls);){var xhr=i.xhrCallsLast.shift(),considerForPerf="spa"==type&&xhr.st>=spaObj.start-100&&xhr.end<=spaObj.end+100;if(0!=spaObj.end&&xhr.st>=spaObj.end){if(i.trackSpaNonRouteAjax){if(window.performance.getEntriesByName)var e=window.performance.getEntriesByName(xhr.name);if(e&&e.length>0){for(var j=i.xhrCallTracker.hasOwnProperty(xhr.name)?i.xhrCallTracker[xhr.name]:0;j<e.length;j++)if(e[j].duration){e[j].loadEventEnd=e[j].fetchStart+e[j].duration;var rSize=e[j].transferSize?e[j].transferSize:0,ajPerfStats=i.colHelpers.getPerfStats(i,e[j]);if(ajPerfStats.totalRT>0&&ajPerfStats.totalRT<=3e5&&ajPerfStats.totalRT>=ajPerfStats.fbT&&ajPerfStats.fbT>=0){var status={};if(status[i.colHelpers.getStatusCode(xhr.status+"")]=1,ajPerfStats.type="ajax",ajPerfStats.status=status,ajPerfStats.http_status=xhr.status?xhr.status:0,ajPerfStats.totalCT=1,ajaxCalls[ajPerfStats.txnName]){var totalSZ=ajaxCalls[ajPerfStats.txnName].totalSZ,totalSCT=ajaxCalls[ajPerfStats.txnName].totalSCT;ajaxCalls[ajPerfStats.txnName]=i.colHelpers.addPerfStats(i,ajaxCalls[ajPerfStats.txnName],ajPerfStats,i.constants.perfStats),ajaxCalls[ajPerfStats.txnName].txnName=ajPerfStats.txnName,ajaxCalls[ajPerfStats.txnName].totalSZ=totalSZ+rSize,ajaxCalls[ajPerfStats.txnName].totalSCT=totalSCT+(Number(rSize)>0?1:0),ajaxCalls[ajPerfStats.txnName].type="ajax"}else ajaxCalls[ajPerfStats.txnName]=ajPerfStats,ajaxCalls[ajPerfStats.txnName].totalSZ=rSize,ajaxCalls[ajPerfStats.txnName].totalSCT=Number(rSize)>0?1:0}}i.xhrCallTracker[xhr.name]=j}}i.xhrCalls.push(xhr)}else{var xhrDomain=i.colHelpers.getDomainFromTxn(i,xhr.name);if(xhr&&(0!=ajax_call.time&&xhr.st>=ajax_call.time||xhr.st>=spaObj.start-100)&&xhr.name&&null!=xhrDomain&&i.colHelpers.isDomainAllowed(i,xhrDomain)&&i.colHelpers.isAjaxCallAllowed(i,xhr.name)&&(xhr.name.indexOf(parentDomain)>-1||i.includeCrossDomainAjaxCalls)){if(window.performance.getEntriesByName)var e=window.performance.getEntriesByName(xhr.name);if(e&&e.length>0){var j=i.xhrCallTracker.hasOwnProperty(xhr.name)?i.xhrCallTracker[xhr.name]:0;if(e[j].duration){e[j].loadEventEnd=e[j].fetchStart+e[j].duration;var rSize=e[j].transferSize?e[j].transferSize:0;i.colHelpers.addToResInfo(i,e[j]);var ajax_perfStats=i.colHelpers.getPerfStats(i,e[j]);if(ajax_perfStats.totalRT<=15e4&&ajax_perfStats.totalRT>=ajax_perfStats.fbT&&ajax_perfStats.fbT>=0){var status={};status[i.colHelpers.getStatusCode(xhr.status+"")]=1,ajax_perfStats.status=status,ajax_perfStats.http_status=xhr.status?xhr.status:0,"spa"==type&&considerForPerf&&(xhr.end>end&&(end=xhr.end),perfStats=i.colHelpers.addPerfStats(i,perfStats,ajax_perfStats,i.constants.perfStats),xhrLen++),ajax_perfStats.totalCT=1;var txname=ajax_perfStats.txnName;if(ajaxCalls[txname]){var totalSZ=ajaxCalls[txname].totalSZ,totalSCT=ajaxCalls[txname].totalSCT;if(ajaxCalls[txname]=i.colHelpers.addPerfStats(i,ajaxCalls[txname],ajax_perfStats,i.constants.perfStats),ajaxCalls[txname].txnName=txname,ajaxCalls[txname].totalSZ=totalSZ+rSize,ajaxCalls[txname].totalSCT=totalSCT+(Number(rSize)>0?1:0),considerForPerf&&ajaxCallsMap[txname]){var pAjax=ajaxCallsMap[txname];ajaxCallsMap[txname]={totalRT:pAjax.totalRT+ajax_perfStats.totalRT,totalCT:pAjax.totalCT+1,status:i.colHelpers.addStatusCode(pAjax.status,status)}}}else if(ajaxCalls[txname]=ajax_perfStats,ajaxCalls[txname].totalSZ=rSize,ajaxCalls[txname].totalSCT=Number(rSize)>0?1:0,considerForPerf){var sts={};sts[i.colHelpers.getStatusCode(xhr.status+"")]=1,ajaxCallsMap[txname]={totalRT:ajax_perfStats.totalRT,totalCT:1,status:sts}}}}i.xhrCallTracker[xhr.name]=j}}}}if("spa"==type&&(ajax_call.url||""!=spaObj.url)){if(i.considerAllResources){var resPerf=i.colHelpers.getSPTPerformance(i);null!=resPerf&&(perfStats=i.colHelpers.addPerfStats(i,perfStats,resPerf.perfStats,i.constants.perfStats),xhrLen+=resPerf.len)}perfStats.ajaxCallsMap=ajaxCallsMap;var st=!ajax_call.time||spaObj.start<ajax_call.time&&0!=spaObj.start?spaObj.start:0!=ajax_call.time?ajax_call.time:spaObj.start,end=spaObj.end>end?spaObj.end:end,totalTime=end-st;perfStats.totalRT>0&&xhrLen>0&&(perfStats=i.colHelpers.getAverageStats(perfStats,xhrLen,i.constants.perfStats)),diff=totalTime-perfStats.totalRT,diff>0&&(perfStats.drT=perfStats.dpT=perfStats.dpT+diff,perfStats.feT+=diff,perfStats.totalRT+=diff);var state=""!=spaObj.url?spaObj.url:ajax_call.url;perfStats.fullName=i.colHelpers.getFormatedTxnName(i,state,!1),perfStats.txnName=i.colHelpers.getFormatedTxnName(i,state),i.curUrl=perfStats.txnName}perfStats.type=type,perfStats.totalRT>0&&perfStats.totalRT<15e4&&(i.perfStats=perfStats,"initial"==type&&(perfStats.totalSZ=document.documentElement.innerHTML.length),dataList.push(perfStats),dataList=dataList.concat(i.colHelpers.getAsArray(ajaxCalls,25,"totalRT")))}return dataList.length>0?dataList:null},domainStats:function(i,type){if(i.trackResources){if("initial"==type)return i.colHelpers.getDomainMetrics(i,i.resourceTracker.s,i.onPageLoadEntriesLen,type);if(("unload"==type||"spa"==type)&&window.performance.getEntries&&i.resourceTracker.s<window.performance.getEntries().length)return i.resourceTracker.e=window.performance.getEntries().length,i.colHelpers.getDomainMetrics(i,i.resourceTracker.s,i.resourceTracker.e,type)}return null},errorList:function(i,type){if("initial"!=type){for(var errorsPerSend=0,errorList=[];i.rawErrors.length>0&&9>errorsPerSend;){var err=i.rawErrors.pop();err&&(errorList.push(err),errorsPerSend++)}return errorList.length>0?errorList:null}return null},sendSnapshotInfo:function(i,type){return"initial"==type&&""==i.colHelpers.getCookie(i,"site24x7RUMSnapshotId")?!0:!1},sesTrace:function(i,type){if("trace"==type&&!i.resourceSent)return i.colHelpers.getAllResourceTimings(i);if(i.resourceSent&&i.collectTrace){var trace={},ns=window.performance.timing.navigationStart,cookie=i.colHelpers.getCookie(i,"site24x7RUMSnapshotId");if(i.resourceSent&&""!=cookie&&Number(cookie[0])+i.timeOut>(new Date).getTime()){if("spa"==type&&(trace.entriesList=i.sesTrace,trace.sT=i.txnT,trace.sescolT=Number(cookie[0]),trace.url=i.curUrl,trace.isOnDemand=cookie[1],trace.pType=i.pType,trace.endTime=Math.round(i.colHelpers.getCurrentTime()-(i.txnT-ns)),Object.keys(i.domainInfo).length>0&&Object.keys(i.resourcesTotal).length>0&&(trace.totalRT=i.perfStats.totalRT,trace.endTime<trace.totalRT&&(trace.endTime+=trace.totalRT),trace.domainInfo=i.colHelpers.getObjAsArray(i.domainInfo),trace.resourceCT=trace.domainInfo[0].count,trace.resourcesTotal=i.colHelpers.getObjAsArray(i.resourcesTotal),i.domainInfo={},i.resourcesTotal={})),"regular"==type){if(trace.entriesList=site24x7rum.sessionTrace,site24x7rum.sessionTrace=new Array,i.changeUrl){var url=""!=window.location.hash?window.location.hash.replace("#",""):window.location.pathname;i.curUrl=i.colHelpers.getFormatedTxnName(i,url)}trace.url=i.curUrl,trace.isOnDemand=cookie[1],trace.pType=i.pType,trace.sescolT=Number(cookie[0]),trace.sT=i.txnT,trace.endTime=Math.round(i.colHelpers.getCurrentTime()-(i.txnT-ns))}return trace.entriesList&&trace.entriesList.length>0||trace.domainInfo?trace:null}return site24x7rum.sessionTrace=new Array,i.collectTrace=!1,null}return"regular"!=type||i.resourceSent?null:(site24x7rum.sessionTrace=new Array,i.collectTrace=!1,null)}},metricsDispatcher:function(i,type){try{var url=i.collector+("initial"==type?"/rum/data":"/rum/trace"),metrics=i.colHelpers.getDataMetrics(i,type);if("trace"==type&&(i.resourceSent=!0),null!=metrics&&Object.keys(metrics).length>0){var txn=i.colHelpers.getFormatedTxnName(i,i.colHelpers.getTxn(i));""!=txn&&(metrics.txnName="spa"==type&&""!=i.spa.state?i.colHelpers.getFormatedTxnName(i,i.spa.state):txn),"undefined"!=typeof window.location.origin&&(metrics.domain=window.location.origin),i.colHelpers.isTxnAllowed(i,metrics.txnName)&&(metrics=JSON.stringify(metrics),i.dispatchMetrics(i,url,metrics),"initial"==type&&(i.initialSent=!0))}}catch(e){}},dispatchMetrics:function(i,url,metrics){var xhr="withCredentials"in new XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:null;try{return xhr?(xhr.open("POST",url),xhr.onload=function(){i.responseHandler(i,xhr.responseText)},xhr.send(metrics),!0):!1}catch(e){}},responseHandler:function(i,response){i.collectorData=JSON.parse(response);var ssCookie=i.colHelpers.getCookie(i,"site24x7RUMSnapshotId");i.collectorData.sendSnaspshot&&i.collectorData.Threshold&&i.perfStats.totalRT>i.collectorData.Threshold?(i.isOnDemand=i.collectorData.isOndemand?!0:!1,i.colHelpers.setCookie("site24x7RUMSnapshotId",i.txnT+"."+i.isOnDemand,1/24),i.metricsDispatcher(i,"trace"),i.resourceSent=!0):i.collectorData.snapshotAdded?i.collectTrace=!0:""!=ssCookie&&!i.resourceSent&&Number(ssCookie[0])+i.timeOut>(new Date).getTime()&&(i.metricsDispatcher(i,"trace"),i.resourceSent=!0),i.colHelpers.clearBuffer()},customFunctions:{uId:function(i,args){i.uid=i.colHelpers.replaceSpecialChars(args[0])},userId:function(i,args){i.uid=i.colHelpers.replaceSpecialChars(args[0])},captureException:function(i,args){var e=args[0];(e instanceof Error||e instanceof Event)&&"undefined"!=typeof TraceKit&&TraceKit.report(e)},trackConsoleEvents:function(i,args){var v=args[0];"boolean"==typeof v&&v&&initInsightEvent(window,"console")},addBreadCrumbs:function(i,args){var v=args[0];"string"==typeof v&&v&&(v=v>100?v.substring(0,100):v,i.colHelpers.addUserTrace(i,"custom",v))},trackAllSpaAjaxCalls:function(i,args){var v=args[0];"boolean"==typeof v&&(i.trackSpaNonRouteAjax=v)}}};Object.keys=Object.keys||function(o,k,r){r=[];for(k in o)r.hasOwnProperty.call(o,k)&&r.push(k);return r};var initInsightEvent=function(w,a){var p=w[a];"onerror"==a?w[a]=function(){try{insightRUM.eventHandlers[a](arguments)}catch(e){}return"function"==typeof p?p.apply(this,arguments):void 0}:"onload"==a||"console"==a?insightRUM.eventHandlers[a]():w[a]=function(arg){try{arg=arg||window.event,insightRUM.eventHandlers["on"+arg.type](arg)}catch(e){}return"function"==typeof p?p.apply(this,arguments):void 0},"undefined"!=typeof window.insightMeRUM&&window.insightMeRUM.initMetricsFunction()};if(function(i,a){var isAllowed=!0,m=window.location.href.match(i.constants.hostName);m&&m[2]&&(pDomain=m[2]);for(var d=0;d<i.excludedDomains.length;d++)""!=i.excludedDomains[d]&&pDomain.indexOf(i.excludedDomains[d])>=0&&(isAllowed=!1);if(i.isCorsSupported&&isAllowed&&!i.colHelpers.isUserAgentBlocked(i.userAgentsToBlock))for(var j=0;j<a.length;j++)"undefined"!=typeof window[a[j]]?initInsightEvent(window,a[j]):"undefined"!=typeof document[a[j]]?initInsightEvent(document,a[j]):i.eventHandlers[a[j]](arguments);"undefined"!=typeof s247RUM&&insightTMRUM.deploy(s247RUM)}(insightRUM,function(){insightRUM.initialize(insightRUM);var arr=insightRUM.constants.events;if(window.performance&&window.performance.getEntries&&(insightRUM.sendAjaxCalls||insightRUM.isSPA||insightRUM.includeCrossDomainAjaxCalls)&&arr.push("ajax_open"),insightRUM.isSPA){var usePushState=!!window.history&&!!window.history.pushState;arr=arr.concat(insightRUM.colHelpers.addSPAEvents(usePushState))}return arr}()),"undefined"!=typeof window.s247r){var S247RumQueue=function(){this.push=function(){for(var i=0;i<arguments.length;i++)try{if("function"==typeof arguments[i])arguments[i]();else{for(var cusMtdNa="",cusMtdArg=[],j=0;j<arguments[i].length;j++)0==j?cusMtdNa=arguments[i][j]:cusMtdArg.push(arguments[i][j]);insightRUM.customFunctions[cusMtdNa].apply(this,[insightRUM,cusMtdArg])}}catch(e){}}},_olds247r=window.s247r.q;window.s247r.q=new S247RumQueue,window.s247r.q.push.apply(window.s247r.q,_olds247r)}if(!JSON){var JSON;JSON={},function(){"use strict";function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;length>i;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;length>i;i+=1)"string"==typeof rep[i]&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}var gap,indent,rep,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;space>i;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})})}()}

